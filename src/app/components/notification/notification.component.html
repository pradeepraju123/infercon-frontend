<div class="contact_table">
  <div class="container-fluid">
    <h2>Notifications</h2>
    <!-- Table Container -->
    <div class="table-container mat-elevation-z2">
      <table mat-table [dataSource]="notificationDataSource" class="table">
        <!-- Message Column -->
        <ng-container matColumnDef="message">
          <th mat-header-cell *matHeaderCellDef>Message</th>
          <td mat-cell *matCellDef="let notification"
              [class.unread-background]="!notification.isRead">
            {{ notification.message }}
          </td>
        </ng-container>
       <ng-container matColumnDef="createdBy" *ngIf="isAdmin">
    <th mat-header-cell *matHeaderCellDef>Created By</th>
    <td mat-cell *matCellDef="let notification">
        {{ notification.createdByDisplay || 'System' }}
    </td>
</ng-container>
        <!-- Status Column -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let notification"
              [class.unread-background]="!notification.isRead">
            <span [ngClass]="notification.isRead ? 'read' : 'unread'">
              {{ notification.isRead ? 'Read' : 'Unread' }}
            </span>
          </td>
        </ng-container>
        <!-- Date Column -->
        <ng-container matColumnDef="date">
          <th mat-header-cell *matHeaderCellDef>Date</th>
          <td mat-cell *matCellDef="let notification"
              [class.unread-background]="!notification.isRead">
            {{ notification.createdAt | date:'short' }}
          </td>
        </ng-container>
        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let notification"
              [class.unread-background]="!notification.isRead">
            <button class="btn" (click)="markAsRead(notification._id)" [disabled]="notification.isRead">
              Mark as Read
            </button>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"
            [class.unread-background]="!row.isRead"></tr>
      </table>
    </div>
    <!-- Pagination -->
     <div class="pagination-container" style="justify-content: flex-end;">
    <ul class="pagination">
      <li class="page-item" [class.disabled]="notificationCurrentPage === 1">
        <a class="page-link" (click)="goToNotificationFirstPage()">«</a>
      </li>
      <li class="page-item" [class.disabled]="notificationCurrentPage === 1">
        <a class="page-link" (click)="goToNotificationPreviousPage()">‹</a>
      </li>
      <li class="page-item" *ngFor="let page of getNotificationPageNumbers()"
          [class.active]="page === notificationCurrentPage">
        <a class="page-link" (click)="goToNotificationPage(page)">{{page}}</a>
      </li>
      <li class="page-item" [class.disabled]="notificationCurrentPage === notificationTotalPages">
        <a class="page-link" (click)="goToNotificationNextPage()">›</a>
      </li>
      <li class="page-item" [class.disabled]="notificationCurrentPage === notificationTotalPages">
        <a class="page-link" (click)="goToNotificationLastPage()">»</a>
      </li>
    </ul>
    <span class="pagination-info">
      {{getNotificationStartItem()}}-{{getNotificationEndItem()}} of {{notificationTotalItems}}
    </span>
  </div>
</div>









