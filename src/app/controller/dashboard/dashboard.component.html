<section class="card_sect">
    <div class="container">
        <div class="row">
            <div class="top_content">
                <h4>Hello!, Raja</h4>
                <p>Lets learn about the growth today</p>
            </div>
        </div>
        <div class="row">
            <div class="col-md-9">
                <div class="row">
                    <div class="col-md-4">
                        <div class="card_content bg-c-yellow">
                            <h4>Total Users</h4>
                            <div class="card_inner_content">
                                    <h6 class="first">Total leads : {{trainingStats.totalLeads}}</h6>
                                    <h6>Registered: {{ trainingStats.registeredLeads }}</h6>
                            </div>
                            <div class="card_inner_content">
                                <h6 class="first">Paid: {{ trainingStats.paidLeads }}</h6>
                                <h6>Rejected: {{ trainingStats.rejectedLeads }}</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card_content bg-c-blue">
                            <h4>Marketing</h4>
                            <div class="card_inner_content">
                                    <h6 class="first">Total : 534</h6>
                                    <h6>Enrolled : 534</h6>
                            </div>
                            <div class="card_inner_content">
                                <h6 class="first">Potential : 534</h6>
                                <h6>Non paid : 534</h6>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card_content bg-c-green">
                            <h4>Finance</h4>
                            <div class="card_inner_content">
                                    <h6 class="first">Total : ₹5340</h6>
                                    <h6>Credit : ₹2340</h6>
                            </div>
                            <div class="card_inner_content">
                                <h6 class="first">Debit : ₹5340</h6>
                                <h6>Upcoming : 534</h6>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row margin_top">
                    <div class="col-md-8">
                       <div class="table_cont">
                        <div class="top_table_cont">
                            <h5>Upcoming Followups</h5>
                            <button>View more</button>
                        </div>
                        <table>
                            <thead>
                            <tr>
                                <th>#</th>
                                <th>Name</th>
                                <th>Phone</th>
                                <th>Course</th>
                                <th>Followup Date</th>
                                <th>Followup Time</th>
                            </tr>
                            </thead>
                            <tbody>
                           <tr *ngFor="let lead of followupLeads; let i = index">
                            <td>{{ i + 1 }}</td>
                            <td>{{ lead.fullname }}</td>
                            <td>{{ lead.phone }}</td>
                            <td>{{ lead.courses?.join(', ') }}</td> <!-- join array into string -->
                            <td>
                                {{ lead.followup_date ? (lead.followup_date | date:'shortDate') : '—' }}
                            </td>
                           <td>
  {{ lead.followup_time ? formatTime(lead.followup_time) : '—' }}
</td>
                            </tr>
                            </tbody>
                        </table>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h4>Blogs - Approval</h4>
                        <div class="card_content bg-c-yellow">
                            <div class="full_content">
                               <div class="left_side">
                                <p>Industrial automation boom nowadays...</p>
                               </div>
                                <div class="right_side">
                                    <!-- Checkbox container -->
                                <label class="checkbox-container">
                                    <input type="checkbox">
                                    <div class="custom-checkbox">
                                    </div>
                                </label>
                                </div>
                            </div>
                        </div>
                        <div class="card_content bg-c-yellow">
                            <div class="full_content">
                               <div class="left_side">
                                <p>Industrial automation boom nowadays...</p>
                               </div>
                                <div class="right_side">
                                    <!-- Checkbox container -->
                                <label class="checkbox-container">
                                    <input type="checkbox">
                                    <div class="custom-checkbox">
                                    </div>
                                </label>
                                </div>
                            </div>
                        </div>
                        <div class="card_content bg-c-yellow">
                            <div class="full_content">
                               <div class="left_side">
                                <p>Industrial automation boom nowadays...</p>
                               </div>
                                <div class="right_side">
                                    <!-- Checkbox container -->
                                <label class="checkbox-container">
                                    <input type="checkbox">
                                    <div class="custom-checkbox">
                                    </div>
                                </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row margin_top">
                    <div class="table_cont margin_top">
                    <div class="top_table_cont">
                        <h5>New Enrollments</h5>
                        <button>View more</button>
                    </div>
                    <table>
                        <thead>
                        <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Phone</th>
                            <th>Course</th>
                            <th>Created At</th>
                        </tr>
                        </thead>
                        <tbody>
                      <tr *ngFor="let lead of newEnrollments; let i = index">
                        <td>{{ i + 1 }}</td>
                        <td>{{ lead.fullname }}</td>
                        <td>{{ lead.phone }}</td>
                        <td>{{ lead.courses?.join(', ') }}</td>
                        <td>
                            {{ lead.createdAt ? (lead.createdAt | date:'short') : '—' }}
                        </td>
                        </tr>
                        </tbody>
                    </table>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="right_content">
                    <canvas id="canvas">{{chart}}</canvas>
                </div>
            </div>
        </div>
    </div>
</section>